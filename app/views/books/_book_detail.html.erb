<div class="book-detail">
  <div class="book-cover-box col-xs-12 col-sm-4">
    <div class="book-cover">
      <% if book.cover %>
        <%= link_to book_path(params[:locale], book.id) do %>
          <%= image_tag book.cover, class: "book-index-cover" %>
        <% end %>
      <% end %>
    </div>
  </div>
  <div class="book-info col-xs-12 col-sm-6">
    <div class="book-des">
      <p class="book-index-title">
        <%= book.title %>
      </p>
      <div class="item book-index-author">
        <p class="title"><%= t "books.author" %>:</p>
        <%= book.author %>
      </div>
      <div class="item book-index-date">
        <p class="title"><%= t "books.publish_date" %>:</p>
        <%= book.publish_date.strftime I18n.t("books.date_format_1") %>
      </div>
    </div>
    <% if user_signed_in? %>
      <% unless current_user.books.include? book %>
        <div id="status-<%= book.id %>"
          class="status-link hide-link">
          <%= render "books/status", book: book, status: "not-read" %>
        </div>
      <% else %>
        <% if @bookmarks.book_ids_reading.include? book.id %>
          <div id="status-<%= book.id %>"
            class="status-link">
            <%= render "books/status", book: book, status: "reading" %>
          </div>
        <% elsif @bookmarks.book_ids_finish.include? book.id %>
          <div id="status-<%= book.id %>"
            class="status-link">
            <%= render "books/status", book: book, status: "finish" %>
          </div>
        <% else %>
          <div id="status-<%= book.id %>"
            class="status-link">
            <%= render "books/status", book: book,
              status: "not-read" %>
          </div>
        <% end %>
      <% end %>
      <%= link_to book_path(params[:locale], book.id),
        class: "btn book-index-btn" do %>
        <%= t "books.review" %>
      <% end %>
    <% end %>
  </div>
  <div class="icon-link-lists col-xs-12 col-sm-2"> 
    <div class="book-action">
      <% if user_signed_in? %>
        <% unless current_user.books.include? book %>
          <div id="bm-<%= book.id %>" class="icon-link bm-link">
            <%= link_to bookmarks_path(id: book.id,
              locale: I18n.locale.to_s),
              method: :post, remote: true do %>
                <%= fa_icon "bookmark-o" %>
            <% end %>
          </div>
          <div id="ubm-<%= book.id %>" class="icon-link bm-link
            hide-link">
            <%= link_to bookmark_path(id: book.id,
              locale: I18n.locale.to_s),
              method: :delete, remote: true do %>
                <%= fa_icon "bookmark" %>
            <% end %>
          </div>
          <div id="fav-<%= book.id %>" class="icon-link hide-link">
            <%= link_to bookmark_path(
              id: book.id,
              locale: I18n.locale.to_s, favorite: 1),
              method: :put, remote: true do %>
                <%= fa_icon "thumbs-o-up" %>
            <% end %>
          </div>
          <div id="unfav-<%= book.id %>" class="icon-link hide-link">
            <%= link_to bookmark_path(
              id: book.id,
              locale: I18n.locale.to_s),
              method: :put, remote: true do %>
                <%= fa_icon "thumbs-up" %>
            <% end %>
          </div>
        <% else %>
          <div id="bm-<%= book.id %>" class="icon-link bm-link
            hide-link">
            <%= link_to bookmarks_path(
              id: book.id, locale: I18n.locale.to_s),
              method: :post, remote: true do %>
                <%= fa_icon "bookmark-o" %>
            <% end %>
          </div>
          <div id="ubm-<%= book.id %>" class="icon-link bm-link">
            <%= link_to bookmark_path(
              id: book.id,
              locale: I18n.locale.to_s),
              method: :delete, remote: true do %>
                <%= fa_icon "bookmark" %>
            <% end %>
          </div>
          <% if @bookmarks.book_ids_fav.include? book.id %>
            <div id="fav-<%= book.id %>" class="icon-link hide-link">
              <%= link_to bookmark_path(
                id: book.id,
                locale: I18n.locale.to_s, favorite: 1),
                method: :put, remote: true do %>
                  <%= fa_icon "thumbs-o-up" %>
              <% end %>
            </div>
            <div id="unfav-<%= book.id %>" class="icon-link">
              <%= link_to bookmark_path(
                id: book.id,
                locale: I18n.locale.to_s),
                method: :put, remote: true do %>
                  <%= fa_icon "thumbs-up" %>
              <% end %>
            </div>
          <% else %>
            <div id="fav-<%= book.id %>" class="icon-link">
              <%= link_to bookmark_path(
                id: book.id,
                locale: I18n.locale.to_s, favorite: 1),
                method: :put, remote: true do %>
                  <%= fa_icon "thumbs-o-up" %>
              <% end %>
            </div>
            <div id="unfav-<%= book.id %>" class="icon-link hide-link">
              <%= link_to bookmark_path(
                id: book.id,
                locale: I18n.locale.to_s),
                method: :put, remote: true do %>
                  <%= fa_icon "thumbs-up" %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
